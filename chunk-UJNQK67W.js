import{a as k}from"./chunk-LB6HRYJL.js";import{a as m,b as O}from"./chunk-C2INEE2Y.js";import{$ as _,B as x,C as v,Ca as F,D as C,F as a,G as w,H as D,U as M,c as d,e as h,f as c,ga as g,n as l,o as p,r as u,sa as y,t as i,u as r,ua as S,v as b,z as f}from"./chunk-R4EPYNQP.js";var R=(()=>{class e{constructor(t,o){this.modalService=t,this.cdRef=o,this.dashboard={},this.currentUser="",this.getUser(),this.loadStoredData(),this.totalForms(),this.currentUser||this.saveUser()}ngAfterViewInit(){this.refreshFormListing()}getUser(){this.currentUser=sessionStorage?.getItem("currentUser")??""}saveUser(){this.modalService.open(k,{backdrop:"static",keyboard:!1,centered:!0}).result.then(()=>{this.getUser(),this.cdRef.detectChanges()},()=>{this.getUser(),this.cdRef.detectChanges()})}addNewForm(){let t=this.modalService.open(F,{backdrop:"static",centered:!0,size:"lg"});t.componentInstance.formAdded.subscribe(()=>{this.refreshFormListing(),this.cdRef.detectChanges()}),t.result.then(()=>{this.loadStoredData(),this.cdRef.detectChanges(),this.formsListing.loadStoredData()},()=>{this.loadStoredData(),this.cdRef.detectChanges(),this.formsListing.loadStoredData()})}refreshFormListing(){this.formsListing&&(this.formsListing.loadStoredData(),this.cdRef.detectChanges())}loadStoredData(){let t=sessionStorage.getItem("savedForms");this.dashboard=t?JSON.parse(t):[],this.formsListing&&this.formsListing.loadStoredData()}totalForms(){return this.dashboard.length}static{this.\u0275fac=function(o){return new(o||e)(p(S),p(M))}}static{this.\u0275cmp=h({type:e,selectors:[["app-dashboard"]],viewQuery:function(o,n){if(o&1&&x(m,5),o&2){let s;v(s=C())&&(n.formsListing=s.first)}},decls:29,vars:4,consts:[[1,"app-header-inner"],[1,"container-fluid"],[1,"row","justify-content-between","align-items-center"],[1,"frame"],[1,"text-wrapper","d-flex"],[1,"div"],[1,"row","pag-sm-scroll-container"],[1,"manual-scoll"],[1,"row"],[1,"col-md-3"],[1,"cl-3-fs-col"],[1,"blue-bg","bl-tp-widget"],[1,"cl-3-fs-col-outer"],[1,"white-skin-block"],[1,"green-btn-add",3,"click"],["src","assets/icons/plus-white.svg","alt","add"],[1,"col-md-9"],[3,"formDeleted","forms","isFromDashboard"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5),r(),i(6,"div",5),a(7,"Dynamic forms Dashboard"),r()()()()(),i(8,"div",1)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"label")(16,"h3"),a(17),r(),i(18,"p"),a(19,"Total Forms created"),r()()()(),i(20,"div",12)(21,"div",13)(22,"button",14),f("click",function(){return n.addNewForm()}),i(23,"span"),b(24,"img",15),r(),i(25,"strong"),a(26,"Add New form"),r()()()()(),i(27,"div",16)(28,"app-forms-listing",17),f("formDeleted",function(){return n.loadStoredData()}),r()()()()()()),o&2&&(l(5),D("Welcome, ",n.currentUser,"! "),l(12),w(n.totalForms()),l(11),u("forms",n.dashboard)("isFromDashboard",!0))},dependencies:[m],styles:["app-dashboard{padding-top:94px;display:block}.frame[_ngcontent-%COMP%]{display:flex;height:80px;align-items:center;justify-content:space-between;padding:13px 22px;border-bottom:1px solid #d2dce3;background-color:var(--bluewhite)}.frame[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{color:var(--admin-black);font-size:25px;font-weight:600}.frame[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%]{width:fit-content;color:var(--grlue-mid);font-size:23px}.cl-3-fs-col[_ngcontent-%COMP%]{background:#fff;padding:15px;display:flex;flex-direction:column;row-gap:22px;border-radius:10px}.bl-tp-widget[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;column-gap:20px;padding-left:15px;border-radius:5px}.bl-tp-widget[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:#000}.bl-tp-widget[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1px;font-weight:600}.blue-bg[_ngcontent-%COMP%]{background:#e0f1fe;padding:17px 15px}.cl-3-fs-col-outer[_ngcontent-%COMP%]{padding:20px 0}.white-skin-block[_ngcontent-%COMP%]{background:#fff;padding:15px;display:flex;flex-direction:column;row-gap:18px;border-radius:10px}.green-btn-add[_ngcontent-%COMP%]{padding:10px;text-transform:uppercase;font-size:14px;border-radius:10px;border:0px;outline:0px;background:#30a68f;text-align:center;display:flex;gap:10px;color:#fff;justify-content:center}.green-btn-add[_ngcontent-%COMP%]:hover{background:#208d77}"],changeDetection:0})}}return e})();var U=[{path:"",component:R},{path:"**",pathMatch:"full",redirectTo:"dashboard"}],L=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=d({imports:[g.forChild(U),g]})}}return e})();var K=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=d({imports:[_,L,y,O]})}}return e})();export{K as DashboardModule};
