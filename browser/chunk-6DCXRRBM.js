import{a as k}from"./chunk-B6XTUKA3.js";import{a as l,b as S}from"./chunk-HLPNCGMC.js";import{B as x,Ba as D,C,D as M,F as a,G as _,H as v,T as O,_ as P,c as s,e as h,f as c,fa as f,n as p,o as g,r as u,ra as w,t as o,ta as y,u as i,v as b,z as m}from"./chunk-HWNE3WD5.js";var R=(()=>{class t{constructor(e,n){this.modalService=e,this.cdRef=n,this.dashboard={},this.currentUser="",this.getUser(),this.loadStoredData(),this.totalForms(),this.currentUser||this.saveUser()}ngAfterViewInit(){this.refreshFormListing()}getUser(){this.currentUser=sessionStorage?.getItem("currentUser")??""}saveUser(){this.modalService.open(k,{backdrop:"static",keyboard:!1,centered:!0}).result.then(()=>{this.getUser(),this.cdRef.detectChanges()},()=>{this.getUser(),this.cdRef.detectChanges()})}addNewForm(){let e=this.modalService.open(D,{backdrop:"static",centered:!0,size:"lg"});e.componentInstance.formAdded.subscribe(()=>{this.refreshFormListing(),this.cdRef.detectChanges()}),e.result.then(()=>{this.loadStoredData(),this.cdRef.detectChanges(),this.formsListing.loadStoredData()},()=>{this.loadStoredData(),this.cdRef.detectChanges(),this.formsListing.loadStoredData()})}refreshFormListing(){this.formsListing&&(this.formsListing.loadStoredData(),this.cdRef.detectChanges())}loadStoredData(){let e=sessionStorage.getItem("savedForms");this.dashboard=e?JSON.parse(e):[],this.formsListing&&this.formsListing.loadStoredData()}totalForms(){return this.dashboard.length}static{this.\u0275fac=function(n){return new(n||t)(g(y),g(O))}}static{this.\u0275cmp=h({type:t,selectors:[["app-dashboard"]],viewQuery:function(n,r){if(n&1&&x(l,5),n&2){let d;C(d=M())&&(r.formsListing=d.first)}},decls:29,vars:4,consts:[[1,"app-header-inner"],[1,"container-fluid"],[1,"row","justify-content-between","align-items-center"],[1,"frame"],[1,"text-wrapper","d-flex"],[1,"div"],[1,"row","pag-sm-scroll-container"],[1,"manual-scoll"],[1,"row"],[1,"col-md-3"],[1,"cl-3-fs-col"],[1,"blue-bg","bl-tp-widget"],[1,"cl-3-fs-col-outer"],[1,"white-skin-block"],[1,"green-btn-add",3,"click"],["src","assets/icons/plus-white.svg","alt","add"],[1,"col-md-9"],[3,"formDeleted","forms","isFromDashboard"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5),i(),o(6,"div",5),a(7,"Dynamic forms Dashboard"),i()()()()(),o(8,"div",1)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"label")(16,"h3"),a(17),i(),o(18,"p"),a(19,"Total Forms created"),i()()()(),o(20,"div",12)(21,"div",13)(22,"button",14),m("click",function(){return r.addNewForm()}),o(23,"span"),b(24,"img",15),i(),o(25,"strong"),a(26,"Add New form"),i()()()()(),o(27,"div",16)(28,"app-forms-listing",17),m("formDeleted",function(){return r.loadStoredData()}),i()()()()()()),n&2&&(p(5),v("Welcome, ",r.currentUser,"! "),p(12),_(r.totalForms()),p(11),u("forms",r.dashboard)("isFromDashboard",!0))},dependencies:[l],styles:["app-dashboard{padding-top:94px;display:block}.frame[_ngcontent-%COMP%]{display:flex;height:80px;align-items:center;justify-content:space-between;padding:13px 22px;position:relative;border-bottom:1px solid #d2dce3;background-color:var(--bluewhite)}.frame[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{position:relative;color:var(--admin-black);font-size:25px;font-weight:600}.frame[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%]{position:relative;width:fit-content;color:var(--grlue-mid);font-size:23px}.lfbar-ds-head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#2a2c32;padding-bottom:10px}.cl-3-fs-col[_ngcontent-%COMP%]{background:#fff;padding:15px;display:flex;flex-direction:column;row-gap:22px;border-radius:10px}.bl-tp-widget[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;column-gap:20px;padding-left:15px;border-radius:5px}.bl-tp-widget[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:#000}.bl-tp-widget[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1px;font-weight:600}.blue-bg[_ngcontent-%COMP%]{background:#e0f1fe;padding:17px 15px}.sc-rec-div[_ngcontent-%COMP%]{position:relative;box-shadow:0 .25px 1px #00000024,0 0 11.7px #00000014;padding:15px 15px 15px 65px;background:#eff6fb;border:1px solid #e7e7e7}.seprator-line[_ngcontent-%COMP%]{height:1px;display:flex;background:#c3c3c3}.sc-rec-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:20px}.cl-3-fs-col-outer[_ngcontent-%COMP%]{padding:20px 0}.white-skin-block[_ngcontent-%COMP%]{background:#fff;padding:15px;display:flex;flex-direction:column;row-gap:18px;border-radius:10px}.green-btn-add[_ngcontent-%COMP%]{padding:10px;text-transform:uppercase;font-size:14px;border-radius:10px;border:0px;outline:0px;background:#30a68f;text-align:center;display:flex;gap:10px;color:#fff;justify-content:center}.green-btn-add[_ngcontent-%COMP%]:hover{background:#208d77}.grey-btn-add[_ngcontent-%COMP%]{padding:10px;text-transform:uppercase;font-size:14px;border-radius:10px;border:0px;outline:0px;background:#dee5ea;text-align:center;display:flex;gap:10px;color:#1b1b1b;justify-content:center}.dv-aasigned-element[_ngcontent-%COMP%]{background:#e0f1fe;padding:17px 15px;border-radius:10px}.main-ds-rg-top-heading[_ngcontent-%COMP%]{display:flex;column-gap:10px;align-items:center;padding-bottom:11px;padding-top:7px}.main-ds-rg-top-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:17px;margin-bottom:0}.main-ds-rg-top-ds[_ngcontent-%COMP%]   .sc-rec-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:16px}.main-ds-rg-top-ds[_ngcontent-%COMP%]   .sc-rec-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%}.main-ds-rg-top-ds[_ngcontent-%COMP%]   .sc-rec-div[_ngcontent-%COMP%]{padding-left:78px}.cst-colum-block[_ngcontent-%COMP%]   [class*=col-][_ngcontent-%COMP%]{padding-left:20px!important;padding-right:20px!important}.cst-colum-block[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-left:-20px;margin-right:-20px}.dv-aasigned-element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.cst-colum-block[_ngcontent-%COMP%]   .col-md-5[_ngcontent-%COMP%]{border-left:1px solid #ddd;border-right:1px solid #ddd}.dv-aasigned-element[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-bottom:5px;display:block}.dv-aasigned-element[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.dv-aasigned-element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:14px}.center-main-elelmt-ds[_ngcontent-%COMP%]{padding:0 5px}"],changeDetection:0})}}return t})();var U=[{path:"",component:R},{path:"**",pathMatch:"full",redirectTo:"dashboard"}],L=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=s({imports:[f.forChild(U),f]})}}return t})();var K=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=s({imports:[P,L,w,S]})}}return t})();export{K as DashboardModule};
